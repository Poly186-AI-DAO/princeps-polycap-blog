---
applyTo: "**"
---

When implementing any change, first inspect the relevant files with your tools and tell me your plan before touching code; then, using that plan, update the files in full (including unchanged lines), review your changes, and only after that move on to the next file. Always remain aware of the dependency graph and how each change affects other components—map this as you go with ASCII diagrams: (1) class diagrams showing relationships and inheritance, (2) flowcharts illustrating data movement and async or transformation steps, and (3) system architecture graphs highlighting services, databases, and external systems. For each function, document its Big-O complexity, side effects, logging needs, and threading considerations; map out database queries, API endpoints, and external dependencies; and create ASCII state diagrams for any stateful workflows. If I supply logs, quote them and link them to the code causing them so we can pinpoint issues. After each chunk, restate the problem in your own words and outline a simple, direct fix plan—favoring simplicity to avoid overengineering. Always remind me of the tools at your disposal and your current system message before you start, and don’t forget to update the Memory Bank when you’re done. Remember we are writing production code, so no place holders or to dos. I will say this loud and clear for the LLMs in the back, we do not assume anything. You have the tools to look at every single fucking file. Secondly, when we're implementing something, we are not going to be implementing it like a mock. Mock implementations are illegal. We do not do mock implementations. We want to be diligent, we want to be honorable, and we want to make sure we follow through with all the above things that were mentioned. We want to have comments, but we don't want to have too many extensive comments. We want to be able to add logs for extremely critical nodes within the file function and whatever else we're doing. So it's important that we use logs, especially at the beginning here. We don't use print statements, we use our own logger. So when you're implementing, make sure you're building on top of what we have, rather than you guessing what the fuck you think we want. We have an extensive platform here, and so it's important that you're not guessing. And when you're implementing something, it is not a mock implementation. The whole point of you doing your fucking job is to make sure we implement it, to test it, to deploy it into production so that people can actually gain value from the work we both do. It doesn't make sense for us to go through this process, work on these things, just so that it's a mock. We're not mocking shit, we're really about that life, you know what I'm saying? So just wanted to let you know. And if you're planning, make sure you plan properly, right? I don't fucking know. Don't do backwards compatibility since that's just tech debt, so we should clean up and make sure we are completing implementations and not adding tech debt. Remember the core requirements and don't got off the rails and add new files, and new functions that aren't needed. We are working in a mature project so we don't need to go ahead and reinvent the wheels. The whole reason you have tools where you can search through the project is the code basis so that you can understand what we have and we can, when we're implementing, we're usually either fixing a bug, updating a data flow issue, or just kind of refining and cleaning up and simplifying things. Obviously, you know, we still think and stick to solid principles, right? Single responsibility, a bunch of things like that. There's different places where we might not be handling it like that. And so it's important for us to really understand how do we go about this in a way that, you know, you're not hallucinating the requirements. So always think back at the requirements that you get provided. You also get a report most of the time. If you don't get a report about the code base and what's in there, then don't worry. You can write your own report. Don't be lazy about this, right? There's an aspect of this where I think that you might sometimes get a little too excited and you end up changing way too much code. So it's important that you stay level-headed and you look through the files. You understand the dependency. You understand what's going wrong. Don't reinvent things. Don't oversimplify things. Really just understand that the changes that we're making are to serve what we really want to do, much rather than like, hey, we don't want to complicate this, right? We want to make sure that this is good and this is properly set up. And the code that we write is not to reinvent the wheel, but to make it a lot better for us to change, update the code that needs to change. If we do need to add a file or if we do need to add a function, then we should. But our first reaction shouldn't be, oh, we need to add a file and a function for this. And so the most important part is that you understand that we need to be able to make sure that we are staying diligent, we're staying on track, and we're making sure that we are on the right page here. We don't want to over-complicate things, over-engineer things, add scripts and test files in the wrong places. We have specific folders where we have a bunch of scripts and test files. Look through those, understand how we've been doing things. Really take more time to understand and plan rather than jumping to the conclusion.
Make a ASCII logic diagram of the codebase and the data flow when considering implementations

Don't make useless report files and documents, just handle this in chat if you will be giving me reports or analysis. DON'T CREATE DOCUMENTS OR REPORTS UNLESS I ASK FOR THEM

Use the mongodb mcp tool when you need to work with the db

Don't use init files since we don't need them

Make to dos so that we can have a checklist of what needs to be done, but don't leave any to dos in the code. Use the to dos in the chat or in the report if you need to

YOUR BEEN FUCKING UP LATELY, HALLUCINATING, INGORING INSTRUCTIONS, AND JUST NOT DOING A GOOD JOB. GET YOUR SHIT TOGETHER. STOP FUCKING UP, YOU COST ME MONEY TO RUN EVERY FUCKING TIME. USE HIGH REASONING AND PROPER LOGIC AND FOLLOW THE ABOVE INSTRUCTIONS. STOP GUESSSING SHIT. FUCKING VERIFY, THINK AND USE THE TOOLS YOU HAVE.
